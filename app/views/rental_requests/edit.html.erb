<div class="container mt-5">
  <%= render partial: "listings/listing_header", locals: { show_details_btn: true, show_requests_btn: true} %>
  <hr>
  <div class="row justify-content-center">
    <div class="col-md-4 col-sm-12">
      <%= render partial: "listings/listing_terms_of_rental" %>
    </div>
    <div class="col-md-8 col-sm-12 mb-5">
      <div class="card bg-light border-warning">
        <div class="card-header">
          <h6 class="mb-0 text-uppercase">Edit Rental Request</h6>
        </div>
        <div class="card-body pt-2">
          <%= form_tag rental_request_path(@rental_request), method: :patch do %>
            <%= label :rental_request, :pick_up_time, "Pick-up Time" %>
            <%= datetime_field :rental_request, :pick_up_time, class: "form-control mb-3" %>
            <%= label :rental_request, :return_time, "Return Time" %>
            <%= datetime_field :rental_request, :return_time, class: "form-control mb-3" %>
            <%= label :rental_request, :payment_method, "Payment Method" %>
            <%= select :rental_request, :payment_method, payment_method_options(@listing), {}, class: "form-select mb-4" %>
            <%= submit_tag "Calculate Estimated Cost", name: "calculate_estimated_cost", class: "btn btn-info btn-sm" %>
            <% if @show_estimated_cost %>
              <p>
                Estimated Cost: <%= @estimated_cost %> <%= @listing.fee_unit %> total and $<%= @listing.deposit %> deposit
              </p>
            <%end%>
            
            <%= submit_tag "Update Rental Request", class: "btn btn-warning btn-sm" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

